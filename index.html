<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªØ·Ø¨ÙŠÙ‚ Ø±Ù‚Ø©</title>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <style>
        :root { --main-color: #d81b60; --bg-color: #fffafb; }
        body { font-family: 'Tajawal', sans-serif; background-color: var(--bg-color); margin: 0; padding-bottom: 70px; }
        
        /* Ø§Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© */
        .welcome-screen { height: 90vh; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; }
        .welcome-title { font-size: 2.5rem; color: var(--main-color); margin-bottom: 10px; font-weight: 700; }
        .welcome-sub { font-size: 1.2rem; color: #888; }

        /* Ø§Ù„Ø£Ù‚Ø³Ø§Ù… ÙˆØ§Ù„Ø´Ø§Øª */
        .page { display: none; padding: 20px; }
        .active { display: block; }
        .specialist-btn { background: var(--main-color); color: white; border: none; padding: 12px; border-radius: 10px; width: 100%; margin-bottom: 20px; font-weight: bold; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 10px; }

        /* Ù…Ø¤Ø´Ø± Ø§Ù„Ù…Ø²Ø§Ø¬ */
        .mood-tracker { background: white; padding: 15px; border-radius: 15px; box-shadow: 0 4px 10px rgba(0,0,0,0.05); margin-bottom: 20px; text-align: center; }
        .mood-icons { display: flex; justify-content: space-around; font-size: 2rem; margin-top: 10px; }
        .mood-icons i { cursor: pointer; transition: 0.3s; color: #ddd; }
        .mood-icons i.selected { color: var(--main-color); transform: scale(1.2); }

        /* Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ù€ 11 */
        .tracking-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; }
        .tracker-item { background: white; padding: 15px 5px; border-radius: 12px; text-align: center; box-shadow: 0 2px 5px rgba(0,0,0,0.05); cursor: pointer; position: relative; }
        .tracker-item i { display: block; font-size: 1.5rem; color: var(--main-color); margin-bottom: 5px; }
        .tracker-item span { font-size: 0.8rem; color: #555; }
        .dot { position: absolute; top: 8px; right: 8px; width: 8px; height: 8px; background: #ff5252; border-radius: 50%; }

        /* Ù…Ù†Ø·Ù‚ Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†Ø´ÙˆØ±Ø§Øª (ÙƒÙ…Ø§ Ø·Ù„Ø¨Øª ØªÙ…Ø§Ù…Ø§Ù‹) */
        .post-card { background: white; padding: 15px; border-radius: 15px; margin-bottom: 15px; box-shadow: 0 2px 8px rgba(0,0,0,0.06); }
        .post-card video, .post-card img { max-width: 100%; height: auto; display: block; margin: 10px 0; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); }
        .post-footer { display: flex; justify-content: space-between; margin-top: 10px; font-size: 0.9rem; color: #666; border-top: 1px solid #eee; padding-top: 10px; }
        .post-footer span { cursor: pointer; }

        /* Ù†Ø§Ù Ø¨Ø§Ø± */
        .nav-bar { position: fixed; bottom: 0; width: 100%; background: white; display: flex; border-top: 1px solid #eee; z-index: 1000; }
        .nav-item { flex: 1; text-align: center; padding: 10px 0; color: #aaa; font-size: 0.75rem; cursor: pointer; }
        .nav-item.active-nav { color: var(--main-color); }
        .nav-item i { display: block; font-size: 1.2rem; margin-bottom: 2px; }
    </style>
</head>
<body>

    <div id="home" class="page active">
        <div class="welcome-screen">
            <div class="welcome-title">Ø£Ù‡Ù„Ø§Ù‹ Ø¨ÙƒÙ ÙÙŠ Ø±Ù‚Ø© ğŸŒ¸</div>
            <div class="welcome-sub">Ù…Ø³Ø§Ø­ØªÙƒÙ Ø§Ù„Ø®Ø§ØµØ© Ù„Ù„Ø¹Ù†Ø§ÙŠØ© ÙˆØ§Ù„Ø¬Ù…Ø§Ù„</div>
        </div>
    </div>

    <div id="emotions" class="page">
        <button class="specialist-btn" onclick="openChat('Ø§Ù„Ù…Ø´Ø§Ø¹Ø±')"><i class="fas fa-comment-dots"></i> Ø´Ø§Øª Ù…ØªØ®ØµØµ ÙÙŠ Ø§Ù„Ù…Ø´Ø§Ø¹Ø±</button>
        <div class="mood-tracker">
            <strong>ÙƒÙŠÙ Ø­Ø§Ù„ÙƒÙ Ø§Ù„ÙŠÙˆÙ…ØŸ</strong>
            <div class="mood-icons">
                <i class="fas fa-laugh-beam" onclick="trackMood('Ø³Ø¹ÙŠØ¯')"></i>
                <i class="fas fa-smile" onclick="trackMood('Ù…Ø³ØªÙ‚Ø±')"></i>
                <i class="fas fa-meh" onclick="trackMood('Ø¹Ø§Ø¯ÙŠ')"></i>
                <i class="fas fa-frown" onclick="trackMood('Ù…ØªØ¹Ø¨')"></i>
            </div>
        </div>
        <div id="feed-emotions"></div>
    </div>

    <div id="health" class="page">
        <button class="specialist-btn" onclick="openChat('Ø§Ù„ØµØ­Ø©')"><i class="fas fa-user-md"></i> Ø´Ø§Øª Ø§Ø³ØªØ´Ø§Ø±ÙŠ ØµØ­ÙŠ</button>
        <div class="tracking-grid">
            <div class="tracker-item" onclick="advancedEntry('period')"><i class="fas fa-tint"></i><span>Ø§Ù„Ø¯ÙˆØ±Ø©</span><div class="dot"></div></div>
            <div class="tracker-item" onclick="advancedEntry('sleep')"><i class="fas fa-bed"></i><span>Ø§Ù„Ù†ÙˆÙ…</span><div class="dot"></div></div>
            <div class="tracker-item" onclick="advancedEntry('water')"><i class="fas fa-glass-whiskey"></i><span>Ø§Ù„Ù…Ø§Ø¡</span></div>
            <div class="tracker-item" onclick="advancedEntry('mood')"><i class="fas fa-smile"></i><span>Ø§Ù„Ø³Ø¹Ø§Ø¯Ø©</span></div>
            <div class="tracker-item" onclick="advancedEntry('skin')"><i class="fas fa-spa"></i><span>Ø§Ù„Ø¨Ø´Ø±Ø©</span><div class="dot"></div></div>
            <div class="tracker-item" onclick="advancedEntry('weight')"><i class="fas fa-weight"></i><span>Ø§Ù„ÙˆØ²Ù†</span><div class="dot"></div></div>
            <div class="tracker-item" onclick="advancedEntry('vitamins')"><i class="fas fa-capsules"></i><span>Ø§Ù„ÙÙŠØªØ§Ù…ÙŠÙ†</span><div class="dot"></div></div>
            <div class="tracker-item" onclick="advancedEntry('steps')"><i class="fas fa-shoe-prints"></i><span>Ø§Ù„Ø®Ø·ÙˆØ§Øª</span></div>
            <div class="tracker-item" onclick="advancedEntry('stress')"><i class="fas fa-brain"></i><span>Ø§Ù„ØªÙˆØªØ±</span><div class="dot"></div></div>
            <div class="tracker-item" onclick="advancedEntry('pulse')"><i class="fas fa-heartbeat"></i><span>Ø§Ù„Ù†Ø¨Ø¶</span><div class="dot"></div></div>
            <div class="tracker-item" onclick="advancedEntry('pregnancy')"><i class="fas fa-baby"></i><span>Ø§Ù„Ø­Ù…Ù„</span></div>
        </div>
        <div id="feed-health" style="margin-top:20px;"></div>
    </div>

    <div id="society" class="page"><button class="specialist-btn" onclick="openChat('Ø§Ù„Ù…Ø¬ØªÙ…Ø¹')"><i class="fas fa-users"></i> Ø´Ø§Øª Ù…Ø¬ØªÙ…Ø¹ÙŠ</button><div id="feed-society"></div></div>
    <div id="fiqh" class="page"><button class="specialist-btn" onclick="openChat('Ø§Ù„ÙÙ‚Ù‡')"><i class="fas fa-book-open"></i> Ø´Ø§Øª ÙÙ‚Ù‡ÙŠ Ù…ØªØ®ØµØµ</button><div id="feed-fiqh"></div></div>
    <div id="intimacy" class="page"><button class="specialist-btn" onclick="openChat('Ø§Ù„Ø­Ù…ÙŠÙ…ÙŠØ©')"><i class="fas fa-heart"></i> Ø´Ø§Øª Ù„Ù„Ø¹Ù„Ø§Ù‚Ø§Øª</button><div id="feed-intimacy"></div></div>

    <nav class="nav-bar">
        <div class="nav-item active-nav" onclick="showPage('home', this)"><i class="fas fa-home"></i>Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</div>
        <div class="nav-item" onclick="showPage('emotions', this)"><i class="fas fa-smile"></i>Ø§Ù„Ù…Ø´Ø§Ø¹Ø±</div>
        <div class="nav-item" onclick="showPage('health', this)"><i class="fas fa-heartbeat"></i>Ø§Ù„ØµØ­Ø©</div>
        <div class="nav-item" onclick="showPage('society', this)"><i class="fas fa-users"></i>Ø§Ù„Ù…Ø¬ØªÙ…Ø¹</div>
        <div class="nav-item" onclick="showPage('fiqh', this)"><i class="fas fa-mosque"></i>Ø§Ù„ÙÙ‚Ù‡</div>
        <div class="nav-item" onclick="showPage('intimacy', this)"><i class="fas fa-venus-mars"></i>Ø§Ù„Ø­Ù…ÙŠÙ…ÙŠØ©</div>
    </nav>

    <script>
        // Ø¯Ø§Ù„Ø© Ø¹Ø±Ø¶ Ø§Ù„ØµÙØ­Ø§Øª
        function showPage(pageId, el) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active-nav'));
            el.classList.add('active-nav');
            if(pageId !== 'home') loadContent(pageId);
        }

        // Ø¬Ù„Ø¨ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ù…Ù† Neon DB Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„ØµÙˆØ±
        async function loadContent(category) {
            const feedDiv = document.getElementById(`feed-${category}`);
            feedDiv.innerHTML = '<p style="text-align:center;">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</p>';
            
            // Ø§Ù„Ø±Ø¨Ø· Ø§Ù„Ø¨Ø±Ù…Ø¬ÙŠ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ (Ø§Ø³ØªØ¨Ø¯Ù„ Ø¨Ù€ URL Ø§Ù„Ù€ API Ø§Ù„Ø®Ø§Øµ Ø¨Ù€ Neon)
            // Ù†Ø³ØªØ®Ø¯Ù… Ø§Ù„ØªØµÙ†ÙŠÙ Ù…Ù† Ø§Ù„ØµÙˆØ±Ø©: bouh-display-1 = Ù…Ø´Ø§Ø¹Ø±
            const sectionMap = { emotions: 'bouh-display-1', health: 'bouh-display-3', society: 'bouh-display-4', fiqh: 'bouh-display-5', intimacy: 'bouh-display-6' };
            
            try {
                // Ù…Ø­Ø§ÙƒØ§Ø© Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª
                const posts = [
                    { content: "Ù†Øµ ØªØ¬Ø±ÙŠØ¨ÙŠ Ù…Ù† Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª", media_url: "video.mp4", type: "ÙÙŠØ¯ÙŠÙˆ", likes: 12, section: sectionMap[category] },
                    { content: "Ù†Øµ ØªØ¬Ø±ÙŠØ¨ÙŠ Ø¢Ø®Ø± Ù…Ø¹ ØµÙˆØ±Ø©", media_url: "image.jpg", type: "ØµÙˆØ±Ø©", likes: 5, section: sectionMap[category] }
                ];

                feedDiv.innerHTML = posts.map(post => {
                    return `
                        <div class="post-card">
                          <p>${post.content}</p>
                          ${post.media_url ? 
                            (post.type === 'ÙÙŠØ¯ÙŠÙˆ' || post.media_url.includes('.mp4') ? 
                              `<video src="${post.media_url}" controls style="width:100%; border-radius:15px;"></video>` : 
                              `<img src="${post.media_url}" style="width:100%; border-radius:15px;">`
                            ) : ''
                          }
                          <div class="post-footer">
                              <span onclick="action('like')"><i class="fas fa-heart"></i> ${post.likes || 0} Ø¥Ø¹Ø¬Ø§Ø¨</span>
                              <span onclick="openChat('ØªØ¹Ù„ÙŠÙ‚')"><i class="fas fa-comment"></i> ØªØ¹Ù„ÙŠÙ‚</span>
                              <span onclick="action('share')"><i class="fas fa-share"></i> Ù…Ø´Ø§Ø±ÙƒØ©</span>
                          </div>
                        </div>
                    `;
                }).join('');
            } catch (e) { feedDiv.innerHTML = "ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª."; }
        }

        // Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù… (Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø§Øª Ø§Ù„Ù€ 11)
        async function advancedEntry(type) {
            const configs = {
                period: { title: 'Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ø¯ÙˆØ±Ø©', html: '<input id="d1" type="date" class="swal2-input" placeholder="ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¨Ø¯Ø¡"><select id="d2" class="swal2-input"><option>Ø®ÙÙŠÙØ©</option><option>Ù…ØªÙˆØ³Ø·Ø©</option><option>ØºØ²ÙŠØ±Ø©</option></select>' },
                sleep: { title: 'Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ù†ÙˆÙ…', html: '<input id="d1" type="number" class="swal2-input" placeholder="Ø¹Ø¯Ø¯ Ø§Ù„Ø³Ø§Ø¹Ø§Øª"><select id="d2" class="swal2-input"><option>Ø¹Ù…ÙŠÙ‚</option><option>Ù…ØªÙ‚Ø·Ø¹</option></select>' },
                weight: { title: 'Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„ÙˆØ²Ù†', html: '<input id="d1" type="number" class="swal2-input" placeholder="Ø§Ù„ÙˆØ²Ù† Ø§Ù„Ø­Ø§Ù„ÙŠ Ø¨Ø§Ù„Ù€ KG">' },
                // ... Ø¨Ù‚ÙŠØ© Ø§Ù„ØªØ®ØµØµØ§Øª
            };

            const config = configs[type] || { title: `ØªØ­Ø¯ÙŠØ« ${type}`, html: '<input id="d1" class="swal2-input" placeholder="Ø§Ù„Ù‚ÙŠÙ…Ø© Ø£Ùˆ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø©">' };

            const { value: formValues } = await Swal.fire({
                title: config.title,
                html: config.html,
                focusConfirm: false,
                confirmButtonText: 'ØªØ­Ù„ÙŠÙ„ ÙˆØ­ÙØ¸ Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ âœ¨',
                preConfirm: () => [document.getElementById('d1').value, document.getElementById('d2')?.value]
            });

            if (formValues) {
                Swal.fire('Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù„ÙŠÙ„...', 'ÙŠÙ‚ÙˆÙ… Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ø¨ØªØ­Ù„ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ ÙˆØ­ÙØ¸Ù‡Ø§ ÙÙŠ Neon DB', 'info');
                // Ù‡Ù†Ø§ ÙŠØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù€ Neon DB ÙˆØ¬Ø¯ÙˆÙ„ Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø§Øª Ø§Ù„Ù…Ø®ØµØµ
                console.log(`Saving ${type} to Neon:`, formValues);
                setTimeout(() => Swal.fire('ØªÙ… Ø§Ù„Ø­ÙØ¸!', 'ØªÙ… ØªØ­Ù„ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ø¨Ù†Ø¬Ø§Ø­ ÙˆÙ†ØµØ­Ùƒ Ø¨Ù€...', 'success'), 1500);
            }
        }

        function trackMood(mood) {
            Swal.fire('ØªÙ… Ø§Ù„ØªØ³Ø¬ÙŠÙ„', `ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø­Ø§Ù„ØªÙƒ Ø§Ù„Ù…Ø²Ø§Ø¬ÙŠØ©: ${mood}`, 'success');
            // Ø¥Ø±Ø³Ø§Ù„ Ù„Ù„Ø°ÙƒØ§Ø¡ Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø­Ø§Ù„Ø©
        }

        function openChat(section) {
            Swal.fire({ title: `Ø´Ø§Øª Ù…ØªØ®ØµØµ: ${section}`, text: "ÙƒÙŠÙ ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ù…Ø³Ø§Ø¹Ø¯ØªÙƒÙ ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ù‚Ø³Ù…ØŸ", input: 'text', confirmButtonText: 'Ø¥Ø±Ø³Ø§Ù„' });
        }

        function action(type) {
            console.log(`${type} action triggered`);
        }
    </script>
</body>
                </html>
