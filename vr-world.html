<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
    <title>عالم رقة الواقعي</title>
</head>
<body>

    <a-scene>
        <a-assets>
            <img id="lobby-img" src="lobby.jpg">
            <img id="emotions-img" src="emotions.jpg">
            <img id="health-img" src="health.jpg">
            <img id="intimacy-img" src="intimacy.jpg">
            <audio id="bg-music" src="https://www.soundjay.com/nature/ocean-wave-1.mp3" preload="auto"></audio>
        </a-assets>

        <a-entity camera look-controls="magicWindowTrackingEnabled: true; touchEnabled: true" position="0 1.6 0">
            <a-cursor fuse="true" fuse-timeout="1500" color="#e91e63"></a-cursor>
        </a-entity>

        <a-entity id="room-lobby" visible="true">
            <a-sky src="#lobby-img"></a-sky>
            <a-text value="أهلاً بكِ في عالم رقة" align="center" position="0 3 -4" width="7" color="#fff"></a-text>

            <a-box id="btn-emotions" position="-2 1.5 -3" scale="0.8 0.8 0.1" color="#9575CD" opacity="0.9">
                <a-text value="ملاذ السكينة" align="center" position="0 0 0.6" width="5"></a-text>
            </a-box>

            <a-box id="btn-health" position="0 1.5 -3" scale="0.8 0.8 0.1" color="#4CAF50" opacity="0.9">
                <a-text value="واحة العافية" align="center" position="0 0 0.6" width="5"></a-text>
            </a-box>

            <a-box id="btn-intimacy" position="2 1.5 -3" scale="0.8 0.8 0.1" color="#F06292" opacity="0.9">
                <a-text value="همسات القلوب" align="center" position="0 0 0.6" width="5"></a-text>
            </a-box>
        </a-entity>

        <a-entity id="room-emotions" visible="false">
            <a-sky src="#emotions-img"></a-sky>
            <a-box id="back1" position="0 0.5 -2" scale="0.5 0.2 0.1" color="#666">
                <a-text value="رجوع" align="center" position="0 0 0.6" width="4"></a-text>
            </a-box>
        </a-entity>

        <a-entity id="room-health" visible="false">
            <a-sky src="#health-img"></a-sky>
            <a-box id="back2" position="0 0.5 -2" scale="0.5 0.2 0.1" color="#666">
                <a-text value="رجوع" align="center" position="0 0 0.6" width="4"></a-text>
            </a-box>
        </a-entity>

        <a-entity id="room-intimacy" visible="false">
            <a-sky src="#intimacy-img"></a-sky>
            <a-box id="back3" position="0 0.5 -2" scale="0.5 0.2 0.1" color="#666">
                <a-text value="رجوع" align="center" position="0 0 0.6" width="4"></a-text>
            </a-box>
        </a-entity>

    </a-scene>

    <script>
        const music = document.getElementById('bg-music');
        
        // وظيفة الانتقال
        function goTo(showId) {
            // إخفاء الكل
            document.getElementById('room-lobby').setAttribute('visible', 'false');
            document.getElementById('room-emotions').setAttribute('visible', 'false');
            document.getElementById('room-health').setAttribute('visible', 'false');
            document.getElementById('room-intimacy').setAttribute('visible', 'false');
            
            // إظهار الغرفة المطلوبة
            document.getElementById(showId).setAttribute('visible', 'true');
            
            // تشغيل الموسيقى
            if(showId !== 'room-lobby') { music.play(); music.loop = true; }
        }

        // ربط الأزرار بالأوامر
        document.getElementById('btn-emotions').addEventListener('click', () => goTo('room-emotions'));
        document.getElementById('btn-health').addEventListener('click', () => goTo('room-health'));
        document.getElementById('btn-intimacy').addEventListener('click', () => goTo('room-intimacy'));
        
        // أزرار الرجوع
        document.getElementById('back1').addEventListener('click', () => goTo('room-lobby'));
        document.getElementById('back2').addEventListener('click', () => goTo('room-lobby'));
        document.getElementById('back3').addEventListener('click', () => goTo('room-lobby'));
    </script>
</body>
</html>
